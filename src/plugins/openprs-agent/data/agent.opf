
;---------------------------------------------------------------------------
;  agent-init.inc - OpenPRS agent initialization file
;
;  Created: Mon Aug 25 13:20:02 2014
;  Copyright  2014  Tim Niemueller [www.niemueller.de]
;  Licensed under GPLv2+ license, cf. LICENSE file
;---------------------------------------------------------------------------

(
(defop say
  :invocation (! (say $text))
  :call (say $text)
  :context ()
  :action (skill-call "say" "text" $text "wait" true)
  :documentation "Invoke skiller to synthesize given text as speech."
)

(defop agent-init
  :invocation (agent-init)
  :context ()
  :setting (& (setting "idle-looptime-sec" $ilt_sec) (setting "idle-looptime-usec" $ilt_usec)
              (setting "busy-looptime-sec" $blt_sec) (setting "busy-looptime-usec" $blt_usec))
  :body (
    (! (time-set-idle-looptime $ilt_sec $ilt_usec))
    (! (time-set-busy-looptime $blt_sec $blt_usec))
    (! (say "Agent loaded and ready to run")))
  :effects ((~> (agent-init)))
)

)
